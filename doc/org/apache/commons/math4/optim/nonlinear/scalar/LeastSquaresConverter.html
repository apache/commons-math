<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_74) on Fri Mar 04 16:28:04 CET 2016 -->
<title>LeastSquaresConverter</title>
<meta name="date" content="2016-03-04">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LeastSquaresConverter";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LeastSquaresConverter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/GradientMultivariateOptimizer.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/LineSearch.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/commons/math4/optim/nonlinear/scalar/LeastSquaresConverter.html" target="_top">Frames</a></li>
<li><a href="LeastSquaresConverter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.commons.math4.optim.nonlinear.scalar</div>
<h2 title="Class LeastSquaresConverter" class="title">Class LeastSquaresConverter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.commons.math4.optim.nonlinear.scalar.LeastSquaresConverter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateFunction</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">LeastSquaresConverter</span>
extends java.lang.Object
implements <a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateFunction</a></pre>
<div class="block">This class converts
 <a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateVectorFunction.html" title="interface in org.apache.commons.math4.analysis"><code>vectorial objective functions</code></a> to
 <a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis"><code>scalar objective functions</code></a>
 when the goal is to minimize them.
 <br/>
 This class is mostly used when the vectorial objective function represents
 a theoretical result computed from a point set applied to a model and
 the models point must be adjusted to fit the theoretical result to some
 reference observations. The observations may be obtained for example from
 physical measurements whether the model is built from theoretical
 considerations.
 <br/>
 This class computes a possibly weighted squared sum of the residuals, which is
 a scalar value. The residuals are the difference between the theoretical model
 (i.e. the output of the vectorial objective function) and the observations. The
 class implements the <a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis"><code>MultivariateFunction</code></a> interface and can therefore be
 minimized by any optimizer supporting scalar objectives functions.This is one way
 to perform a least square estimation. There are other ways to do this without using
 this converter, as some optimization algorithms directly support vectorial objective
 functions.
 <br/>
 This class support combination of residuals with or without weights and correlations.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis"><code>MultivariateFunction</code></a>, 
<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateVectorFunction.html" title="interface in org.apache.commons.math4.analysis"><code>MultivariateVectorFunction</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/LeastSquaresConverter.html#LeastSquaresConverter-org.apache.commons.math4.analysis.MultivariateVectorFunction-double:A-">LeastSquaresConverter</a></span>(<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateVectorFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateVectorFunction</a>&nbsp;function,
                     double[]&nbsp;observations)</code>
<div class="block">Builds a simple converter for uncorrelated residuals with identical
 weights.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/LeastSquaresConverter.html#LeastSquaresConverter-org.apache.commons.math4.analysis.MultivariateVectorFunction-double:A-double:A-">LeastSquaresConverter</a></span>(<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateVectorFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateVectorFunction</a>&nbsp;function,
                     double[]&nbsp;observations,
                     double[]&nbsp;weights)</code>
<div class="block">Builds a simple converter for uncorrelated residuals with the
 specified weights.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/LeastSquaresConverter.html#LeastSquaresConverter-org.apache.commons.math4.analysis.MultivariateVectorFunction-double:A-org.apache.commons.math4.linear.RealMatrix-">LeastSquaresConverter</a></span>(<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateVectorFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateVectorFunction</a>&nbsp;function,
                     double[]&nbsp;observations,
                     <a href="../../../../../../../org/apache/commons/math4/linear/RealMatrix.html" title="interface in org.apache.commons.math4.linear">RealMatrix</a>&nbsp;scale)</code>
<div class="block">Builds a simple converter for correlated residuals with the
 specified weights.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/LeastSquaresConverter.html#value-double:A-">value</a></span>(double[]&nbsp;point)</code>
<div class="block">Compute the value for the function at the given point.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LeastSquaresConverter-org.apache.commons.math4.analysis.MultivariateVectorFunction-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LeastSquaresConverter</h4>
<pre>public&nbsp;LeastSquaresConverter(<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateVectorFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateVectorFunction</a>&nbsp;function,
                             double[]&nbsp;observations)</pre>
<div class="block">Builds a simple converter for uncorrelated residuals with identical
 weights.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - vectorial residuals function to wrap</dd>
<dd><code>observations</code> - observations to be compared to objective function to compute residuals</dd>
</dl>
</li>
</ul>
<a name="LeastSquaresConverter-org.apache.commons.math4.analysis.MultivariateVectorFunction-double:A-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LeastSquaresConverter</h4>
<pre>public&nbsp;LeastSquaresConverter(<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateVectorFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateVectorFunction</a>&nbsp;function,
                             double[]&nbsp;observations,
                             double[]&nbsp;weights)</pre>
<div class="block">Builds a simple converter for uncorrelated residuals with the
 specified weights.
 <p>
 The scalar objective function value is computed as:
 <pre>
 objective = &sum;weight<sub>i</sub>(observation<sub>i</sub>-objective<sub>i</sub>)<sup>2</sup>
 </pre>
 </p>
 <p>
 Weights can be used for example to combine residuals with different standard
 deviations. As an example, consider a residuals array in which even elements
 are angular measurements in degrees with a 0.01&deg; standard deviation and
 odd elements are distance measurements in meters with a 15m standard deviation.
 In this case, the weights array should be initialized with value
 1.0/(0.01<sup>2</sup>) in the even elements and 1.0/(15.0<sup>2</sup>) in the
 odd elements (i.e. reciprocals of variances).
 </p>
 <p>
 The array computed by the objective function, the observations array and the
 weights array must have consistent sizes or a <a href="../../../../../../../org/apache/commons/math4/exception/DimensionMismatchException.html" title="class in org.apache.commons.math4.exception"><code>DimensionMismatchException</code></a>
 will be triggered while computing the scalar objective.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - vectorial residuals function to wrap</dd>
<dd><code>observations</code> - observations to be compared to objective function to compute residuals</dd>
<dd><code>weights</code> - weights to apply to the residuals</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/commons/math4/exception/DimensionMismatchException.html" title="class in org.apache.commons.math4.exception">DimensionMismatchException</a></code> - if the observations vector and the weights
 vector dimensions do not match (objective function dimension is checked only when
 the <a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/LeastSquaresConverter.html#value-double:A-"><code>value(double[])</code></a> method is called)</dd>
</dl>
</li>
</ul>
<a name="LeastSquaresConverter-org.apache.commons.math4.analysis.MultivariateVectorFunction-double:A-org.apache.commons.math4.linear.RealMatrix-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LeastSquaresConverter</h4>
<pre>public&nbsp;LeastSquaresConverter(<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateVectorFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateVectorFunction</a>&nbsp;function,
                             double[]&nbsp;observations,
                             <a href="../../../../../../../org/apache/commons/math4/linear/RealMatrix.html" title="interface in org.apache.commons.math4.linear">RealMatrix</a>&nbsp;scale)</pre>
<div class="block">Builds a simple converter for correlated residuals with the
 specified weights.
 <p>
 The scalar objective function value is computed as:
 <pre>
 objective = y<sup>T</sup>y with y = scale&times;(observation-objective)
 </pre>
 </p>
 <p>
 The array computed by the objective function, the observations array and the
 the scaling matrix must have consistent sizes or a <a href="../../../../../../../org/apache/commons/math4/exception/DimensionMismatchException.html" title="class in org.apache.commons.math4.exception"><code>DimensionMismatchException</code></a>
 will be triggered while computing the scalar objective.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - vectorial residuals function to wrap</dd>
<dd><code>observations</code> - observations to be compared to objective function to compute residuals</dd>
<dd><code>scale</code> - scaling matrix</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/commons/math4/exception/DimensionMismatchException.html" title="class in org.apache.commons.math4.exception">DimensionMismatchException</a></code> - if the observations vector and the scale
 matrix dimensions do not match (objective function dimension is checked only when
 the <a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/LeastSquaresConverter.html#value-double:A-"><code>value(double[])</code></a> method is called)</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="value-double:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>value</h4>
<pre>public&nbsp;double&nbsp;value(double[]&nbsp;point)</pre>
<div class="block">Compute the value for the function at the given point.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html#value-double:A-">value</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateFunction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>point</code> - Point at which the function must be evaluated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the function value for the given point.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LeastSquaresConverter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/GradientMultivariateOptimizer.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/LineSearch.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/commons/math4/optim/nonlinear/scalar/LeastSquaresConverter.html" target="_top">Frames</a></li>
<li><a href="LeastSquaresConverter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
