<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_74) on Fri Mar 04 16:28:04 CET 2016 -->
<title>MultivariateFunctionPenaltyAdapter</title>
<meta name="date" content="2016-03-04">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MultivariateFunctionPenaltyAdapter";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MultivariateFunctionPenaltyAdapter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionMappingAdapterTest.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionPenaltyAdapterTest.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionPenaltyAdapter.html" target="_top">Frames</a></li>
<li><a href="MultivariateFunctionPenaltyAdapter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.commons.math4.optim.nonlinear.scalar</div>
<h2 title="Class MultivariateFunctionPenaltyAdapter" class="title">Class MultivariateFunctionPenaltyAdapter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.commons.math4.optim.nonlinear.scalar.MultivariateFunctionPenaltyAdapter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateFunction</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MultivariateFunctionPenaltyAdapter</span>
extends java.lang.Object
implements <a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateFunction</a></pre>
<div class="block"><p>Adapter extending bounded <a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis"><code>MultivariateFunction</code></a> to an unbouded
 domain using a penalty function.</p>

 <p>
 This adapter can be used to wrap functions subject to simple bounds on
 parameters so they can be used by optimizers that do <em>not</em> directly
 support simple bounds.
 </p>
 <p>
 The principle is that the user function that will be wrapped will see its
 parameters bounded as required, i.e when its <code>value</code> method is called
 with argument array <code>point</code>, the elements array will fulfill requirement
 <code>lower[i] &lt;= point[i] &lt;= upper[i]</code> for all i. Some of the components
 may be unbounded or bounded only on one side if the corresponding bound is
 set to an infinite value. The optimizer will not manage the user function by
 itself, but it will handle this adapter and it is this adapter that will take
 care the bounds are fulfilled. The adapter <a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionPenaltyAdapter.html#value-double:A-"><code>value(double[])</code></a> method will
 be called by the optimizer with unbound parameters, and the adapter will check
 if the parameters is within range or not. If it is in range, then the underlying
 user function will be called, and if it is not the value of a penalty function
 will be returned instead.
 </p>
 <p>
 This adapter is only a poor-man's solution to simple bounds optimization
 constraints that can be used with simple optimizers like
 <a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/noderiv/SimplexOptimizer.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar.noderiv"><code>SimplexOptimizer</code></a>.
 A better solution is to use an optimizer that directly supports simple bounds like
 <a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/noderiv/CMAESOptimizer.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar.noderiv"><code>CMAESOptimizer</code></a> or
 <a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/noderiv/BOBYQAOptimizer.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar.noderiv"><code>BOBYQAOptimizer</code></a>.
 One caveat of this poor-man's solution is that if start point or start simplex
 is completely outside of the allowed range, only the penalty function is used,
 and the optimizer may converge without ever entering the range.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionMappingAdapter.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><code>MultivariateFunctionMappingAdapter</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionPenaltyAdapter.html#MultivariateFunctionPenaltyAdapter-org.apache.commons.math4.analysis.MultivariateFunction-double:A-double:A-double-double:A-">MultivariateFunctionPenaltyAdapter</a></span>(<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateFunction</a>&nbsp;bounded,
                                  double[]&nbsp;lower,
                                  double[]&nbsp;upper,
                                  double&nbsp;offset,
                                  double[]&nbsp;scale)</code>
<div class="block">Simple constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionPenaltyAdapter.html#value-double:A-">value</a></span>(double[]&nbsp;point)</code>
<div class="block">Computes the underlying function value from an unbounded point.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MultivariateFunctionPenaltyAdapter-org.apache.commons.math4.analysis.MultivariateFunction-double:A-double:A-double-double:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MultivariateFunctionPenaltyAdapter</h4>
<pre>public&nbsp;MultivariateFunctionPenaltyAdapter(<a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateFunction</a>&nbsp;bounded,
                                          double[]&nbsp;lower,
                                          double[]&nbsp;upper,
                                          double&nbsp;offset,
                                          double[]&nbsp;scale)</pre>
<div class="block">Simple constructor.
 <p>
 When the optimizer provided points are out of range, the value of the
 penalty function will be used instead of the value of the underlying
 function. In order for this penalty to be effective in rejecting this
 point during the optimization process, the penalty function value should
 be defined with care. This value is computed as:
 <pre>
   penalty(point) = offset + &sum;<sub>i</sub>[scale[i] * &radic;|point[i]-boundary[i]|]
 </pre>
 where indices i correspond to all the components that violates their boundaries.
 </p>
 <p>
 So when attempting a function minimization, offset should be larger than
 the maximum expected value of the underlying function and scale components
 should all be positive. When attempting a function maximization, offset
 should be lesser than the minimum expected value of the underlying function
 and scale components should all be negative.
 minimization, and lesser than the minimum expected value of the underlying
 function when attempting maximization.
 </p>
 <p>
 These choices for the penalty function have two properties. First, all out
 of range points will return a function value that is worse than the value
 returned by any in range point. Second, the penalty is worse for large
 boundaries violation than for small violations, so the optimizer has an hint
 about the direction in which it should search for acceptable points.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bounded</code> - bounded function</dd>
<dd><code>lower</code> - lower bounds for each element of the input parameters array
 (some elements may be set to <code>Double.NEGATIVE_INFINITY</code> for
 unbounded values)</dd>
<dd><code>upper</code> - upper bounds for each element of the input parameters array
 (some elements may be set to <code>Double.POSITIVE_INFINITY</code> for
 unbounded values)</dd>
<dd><code>offset</code> - base offset of the penalty function</dd>
<dd><code>scale</code> - scale of the penalty function</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../org/apache/commons/math4/exception/DimensionMismatchException.html" title="class in org.apache.commons.math4.exception">DimensionMismatchException</a></code> - if lower bounds, upper bounds and
 scales are not consistent, either according to dimension or to bounadary
 values</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="value-double:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>value</h4>
<pre>public&nbsp;double&nbsp;value(double[]&nbsp;point)</pre>
<div class="block">Computes the underlying function value from an unbounded point.
 <p>
 This method simply returns the value of the underlying function
 if the unbounded point already fulfills the bounds, and compute
 a replacement value using the offset and scale if bounds are
 violated, without calling the function at all.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html#value-double:A-">value</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/commons/math4/analysis/MultivariateFunction.html" title="interface in org.apache.commons.math4.analysis">MultivariateFunction</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>point</code> - unbounded point</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>either underlying function value or penalty function value</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MultivariateFunctionPenaltyAdapter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionMappingAdapterTest.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionPenaltyAdapterTest.html" title="class in org.apache.commons.math4.optim.nonlinear.scalar"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/commons/math4/optim/nonlinear/scalar/MultivariateFunctionPenaltyAdapter.html" target="_top">Frames</a></li>
<li><a href="MultivariateFunctionPenaltyAdapter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
